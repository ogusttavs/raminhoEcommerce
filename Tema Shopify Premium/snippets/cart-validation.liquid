<!-- Minimum Order Validation Logic (R$ 129,90) -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // 12990 centavos = R$ 129,90
    const MINIMUM_ORDER_CENTS = 12990;
    
    // Formatar moeda (ex: R$ 129,90)
    const formatMoney = (cents) => {
      return 'R$ ' + (cents / 100).toFixed(2).replace('.', ',');
    };

    const cartTotalCents = {{ cart.total_price | default: 0 }};
    const diffCents = MINIMUM_ORDER_CENTS - cartTotalCents;

    // Busca bot√µes de finaliza√ß√£o de compra na p√°gina
    const checkoutButtons = document.querySelectorAll('button[name="checkout"], input[name="checkout"], a[href="/checkout"], .btn-checkout-yampi');
    
    if (checkoutButtons.length > 0 && cartTotalCents > 0 && cartTotalCents < MINIMUM_ORDER_CENTS) {
      checkoutButtons.forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          alert(`Qualidade premium at√© na porta da sua casa! üçè\n\nNosso pedido m√≠nimo √© de ${formatMoney(MINIMUM_ORDER_CENTS)} para cobrir o envio com motoboys pr√≥prios, seguro contra danos f√≠sicos e garantia de reposi√ß√£o gratuita em caso de frutas fora do padr√£o.\n\nFalta apenas ${formatMoney(diffCents)} para voc√™ finalizar o seu pedido. Aproveite nossas novidades!`);
        });
        
        // Estiliza√ß√£o visual (opcional) indicando bloqueio
        btn.style.opacity = '0.5';
        btn.style.cursor = 'not-allowed';
      });
    }
  });
</script>
