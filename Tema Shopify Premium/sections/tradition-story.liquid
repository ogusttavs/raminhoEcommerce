<style>
  .tradition-section {
    padding: 6rem 0;
    background-color: var(--color-background);
    overflow: hidden;
  }

  .tradition-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    align-items: center;
  }

  @media (min-width: 768px) {
    .tradition-grid {
      grid-template-columns: 1fr 1fr;
      gap: 5rem;
    }
  }

  .tradition-image-wrapper {
    position: relative;
    border-radius: 20px;
    overflow: hidden;
    aspect-ratio: 4 / 5;
  }

  .tradition-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .tradition-badge {
    position: absolute;
    bottom: 1.5rem;
    left: 1.5rem;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(10px);
    padding: 1rem 1.5rem;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.1);
  }

  .tradition-badge-number {
    font-size: 2.4rem;
    line-height: 1;
    color: var(--color-primary-dark);
  }

  .tradition-badge-text {
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--color-primary-dark);
    opacity: 0.7;
  }

  .tradition-content {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .tradition-eyebrow {
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-accent, #E87A2D);
    font-weight: 600;
  }

  .tradition-title {
    font-size: 2.4rem;
    line-height: 1.15;
    color: var(--color-primary-dark);
  }

  @media (max-width: 768px) {
    .tradition-title {
      font-size: 1.8rem;
    }
  }

  .tradition-text {
    font-size: 1.05rem;
    line-height: 1.7;
    opacity: 0.8;
    color: var(--color-text-main);
  }

  .tradition-stats {
    display: flex;
    gap: 2.5rem;
    margin-top: 1rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(0,0,0,0.08);
  }

  .tradition-stat-number {
    font-size: 1.8rem;
    line-height: 1;
    color: var(--color-primary);
  }

  .tradition-stat-label {
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    opacity: 0.6;
    margin-top: 0.3rem;
  }
</style>

<section class="tradition-section">
  <div class="container">
    <div class="tradition-grid">

      <div class="tradition-image-wrapper">
        {% if section.settings.image != blank %}
          <img src="{{ section.settings.image | image_url: width: 1000 }}"
               alt="{{ section.settings.title | escape }}"
               class="tradition-image"
               loading="lazy"
               width="1000" height="1250">
        {% else %}
          <div class="tradition-image" style="background: linear-gradient(135deg, var(--color-primary-dark) 0%, var(--color-primary) 100%); display:flex; align-items:center; justify-content:center;">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="1"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
          </div>
        {% endif %}
        <div class="tradition-badge">
          <span class="tradition-badge-number font-heading">{{ section.settings.years | default: '40+' }}</span>
          <span class="tradition-badge-text font-body">anos de tradição</span>
        </div>
      </div>

      <div class="tradition-content">
        <span class="tradition-eyebrow font-body">{{ section.settings.eyebrow }}</span>
        <h2 class="tradition-title font-heading">{{ section.settings.title }}</h2>
        <p class="tradition-text font-body">{{ section.settings.text }}</p>

        <div class="tradition-stats">
          {% for block in section.blocks %}
            <div class="tradition-stat" {{ block.shopify_attributes }}>
              <span class="tradition-stat-number font-heading">{{ block.settings.number }}</span>
              <p class="tradition-stat-label font-body">{{ block.settings.label }}</p>
            </div>
          {% endfor %}
        </div>
      </div>

    </div>
  </div>
</section>

{% schema %}
{
  "name": "40 Anos de Tradição",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Foto do Mercado Municipal / Equipe"
    },
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow (texto menor acima do título)",
      "default": "Nossa História"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Título",
      "default": "Desde 1984, levando o melhor do Mercadão até você."
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Texto",
      "default": "A Raminho Importadora nasceu no coração do Mercado Municipal de São Paulo. Há mais de 40 anos, selecionamos artesanalmente as melhores frutas importadas e nacionais, com o rigor de quem construiu uma reputação servindo os paladares mais exigentes da cidade."
    },
    {
      "type": "text",
      "id": "years",
      "label": "Número de Anos",
      "default": "40+"
    }
  ],
  "blocks": [
    {
      "type": "stat",
      "name": "Estatística",
      "limit": 3,
      "settings": [
        {
          "type": "text",
          "id": "number",
          "label": "Número",
          "default": "40+"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Anos de Tradição"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "40 Anos de Tradição",
      "blocks": [
        { "type": "stat", "settings": { "number": "40+", "label": "Anos de Tradição" } },
        { "type": "stat", "settings": { "number": "145+", "label": "Produtos Selecionados" } },
        { "type": "stat", "settings": { "number": "10k+", "label": "Clientes Satisfeitos" } }
      ]
    }
  ]
}
{% endschema %}
