<section data-section-id="{{ section.id }}" data-section-type="video-marca"
         data-section-settings="{{ section_settings }}"
         style="margin: 0 !important; padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px;">
  
   <style>  
 .product-video {
    min-height: 590px;
    overflow: auto;
    justify-content: center;
}

.product-video .v-col-video .v-video-media {
    float: left;
    width: 75%;
    min-height: inherit;
}

.product-video .v-col-video .v-video-media * {
    border-radius: 6px;
}

.product-video .v-col-video .v-video-media iframe {
    min-height: 591px;
}

.product-video .v-col-video .v-video-media button {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 65px;
    margin-left: -34px;
    margin-top: -32px;
    -webkit-transition: opacity .25s cubic-bezier(0,0,.2,1);
    -o-transition: opacity .25s cubic-bezier(0,0,.2,1);
    transition: opacity .25s cubic-bezier(0,0,.2,1);
    z-index: 1;
}

.product-video .v-col-video .v-video-media button svg {
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.product-video .v-col-product {
    float: left;
    width: 25%;
    padding: 0 10px;
}

.product-video .v-col-product button {
    padding: 5px;
    font-size: 18px;
    font-weight: 500;
    border-radius: 6px;
    color: white;
    width: 100%;
    border: none;
}

.product-video .v-col-product .v-product {
    border: 1px solid #ECECEC;
    border-radius: 6px;
    margin-top: 15px;
    background: #ffffff;
    
}

.product-video .v-col-product .v-product .product-item {
    background: transparent !important;
    box-shadow: none !important;
    border-radius: 7px !important;
  padding-bottom: 45px;
    transition: none !important;
  
}


.product-video .v-col-product .v-product .product-item:hover {
    transition: none !important;
  border:none !important;
  
}

     
.product-video .v-col-product .v-product .product-item .product-item__info {
    padding-bottom: 37px !important;
}

@media only screen and (max-width: 1024px) {
    .product-video {
        min-height: auto;
    }

    .product-video .v-col-video,
    .product-video .v-col-product {
        width: 100%;
        text-align: center;
        min-height: auto;
    }

    .product-video .v-col-video .v-video-media {
        width: 100%;
    }

    .product-video .v-col-video .v-video-media iframe {
        min-height: 220px;
    }

    .product-video .v-col-video .v-video-media button svg {
        width: 50px;
    }

    .product-video .v-col-product {
        padding: 0;
    }

    .product-video .v-col-product button {
        padding: 5px;
        width: 100%;
        font-size: 16px;
        margin-top: 20px;
    }

    .product-video .v-col-product .v-product {
        display: none !important;
    }
}

@media only screen and (max-width: 1024px) and (orientation:landscape) {
    .product-video .v-col-video .v-video-media iframe {
        min-height: 430px;
    }
}
</style> 
  
  
  <div class="container">
        <div class="row-fluid">
            {% if section.settings.title != blank %}
                <header class="section__header">
                    <div class="section__header-stack">
                        <h2 class="section__title heading h3">{{ section.settings.title }}</h2>
                    </div>
                </header>
            {% endif %}

            {% if section.settings.video_url != blank %}
                <div class="product-video">
                    <div class="v-col-video">
                        <div class="v-video-media" data-youtube>
                            <div style="position: relative; cursor:pointer;">
                                <img class="lazyload"
                                     src="https://i.ytimg.com/vi/{{ section.settings.video_url.id }}/maxresdefault.jpg"/>
                                <button data-youtube-button="https://www.youtube.com/embed/{{ section.settings.video_url.id }}">
                                    {% render 'icon', icon: 'play' %}
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="v-col-product">
                        <div class="v-product" style="margin-top: 0 !important; margin-bottom: 7px;">
                            <div class="product-item"
                                 style="min-height: 555px; max-height: 555px; text-align: center; margin-top: -10px; padding: 10px;">
                                <div class="product-item__info">
                                    <div class="product-item__info-inner">
                                        <img src="{{ section.settings.image | img_url: '275x275', crop: 'center' }}"
                                             alt="{{ section.settings.image.alt | escape }}" style="margin-bottom: 20px; margin-top:25px; border-radius: 7px;">
                                        <p class="h4" style="font-weight: bold; color: #000000;">{{ section.settings.description_title }}</p>
                                        <span style="display: block; font-size: 14px; padding-left: 15px; padding-right: 15px; display: -webkit-box;
                                            -webkit-line-clamp: 6; /** número de linhas que você quer exibir */
                                            -webkit-box-orient: vertical;
                                            overflow: hidden;
                                            text-overflow: ellipsis;">
                                            {{ section.settings.description }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {% if section.settings.link != blank %}
                            <button style="background-color: {{ section.settings.button_color }};color:{{ section.settings.fonte_button_color }};font-weight: 700;"
                                    onclick="location.href='{{ section.settings.link }}'">{{ section.settings.button_text }}</button>
                        {% endif %}
                    </div>
                </div>
            {% endif %}
        </div>
    </div>

  
<script>
  const youtubeVideos = [...document.querySelectorAll('[data-youtube]')];
youtubeVideos.forEach(function(element) {
    const button = element.querySelector('[data-youtube-button]');
    button.addEventListener('click', function () {
            const url = event.target.dataset.youtubeButton;
            const youtubePlaceholder = event.target.parentNode;

            const htmlString = '<iframe width="100%" src="' + url + '?autoplay=1&showinfo=0&controls=1&rel=0&modestbranding=1" allow="autoplay;" frameborder="0" allowfullscreen></iframe>';

            youtubePlaceholder.style.display = 'none';
            youtubePlaceholder.insertAdjacentHTML('beforebegin', htmlString);
            youtubePlaceholder.parentNode.removeChild(youtubePlaceholder);
        }
    );
});
</script>
</section>

{% schema %}
{
  "name": "Video Marca",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Título",
      "default": "Conheça Nossa Loja"
    },
    {
      "type": "video_url",
      "id": "video_url",
      "accept": [
        "youtube"
      ],
      "label": "Link do vídeo",
      "default": "https://www.youtube.com/watch?v=brfBpJKrWJE"
    },
    {
      "type": "header",
      "content": "Card descritivo"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image",
      "info": "500 x 500px .jpg recomendado. OBS: TEM QUE UTILIZAR UMA IMAGEM COM PROPORÇÃO DE 1:1, OU SEJA QUADRADA"
    },
    {
      "type": "text",
      "id": "description_title",
      "label": "Título da descrição",
      "default": "Saiba quem somos"
    },
    {
      "type": "text",
      "id": "description",
      "label": "Descrição",
      "default": "Venha fazer parte da melhor loja de ecommerce do Brasil de acordo com o Premio Inovares 2023"
    },
    {
      "type": "header",
      "content": "Botão"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Texto do botão",
      "default": "Conheça Quem Somos"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link do botão"
    },
    {
      "type": "header",
      "content": "Espaçamento"
    },
    {
      "type": "text",
      "id": "padding_top",
      "label": "Margem superior (px)",
      "default": "0"
    },
    {
      "type": "text",
      "id": "padding_bottom",
      "label": "Margem inferior (px)",
      "default": "20"
    },
    {
      "type": "header",
      "content": "Cores"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Cor do botão",
      "default": "#FF2834"
    },
    {
      "type": "color",
      "id": "fonte_button_color",
      "label": "Cor da fonte",
      "default": "#FFF"
    }
  ],
  "presets": [
    {
      "name": "Video Marca",
      "settings": {}
    }
  ]
}
{% endschema %}